function drawAxes(e){e.strokeStyle="rgb(192,0,0)",e.beginPath(),e.moveTo(0,0),e.lineTo(1,0),e.stroke(),e.strokeStyle="rgb(0,192,0)",e.beginPath(),e.moveTo(0,0),e.lineTo(0,1),e.stroke()}function setColorFromDebugDrawCallback(e,o){e=(255*(e=Box2D.wrapPointer(e,Box2D.b2Color)).get_r()|0)+","+(255*e.get_g()|0)+","+(255*e.get_b()|0),o.fillStyle="rgba("+e+",0.5)",o.strokeStyle="rgb("+e+")"}function drawSegment(e,o,r){e=Box2D.wrapPointer(e,Box2D.b2Vec2),o=Box2D.wrapPointer(o,Box2D.b2Vec2),r.beginPath(),r.moveTo(e.get_x(),e.get_y()),r.lineTo(o.get_x(),o.get_y()),r.stroke()}function drawPolygon(e,o,r,t){for(t.beginPath(),tmpI=0;tmpI<o;tmpI++){var a=Box2D.wrapPointer(e+8*tmpI,Box2D.b2Vec2);0==tmpI?t.moveTo(a.get_x(),a.get_y()):t.lineTo(a.get_x(),a.get_y())}t.closePath(),r&&t.fill(),t.stroke()}function drawCircle(e,o,r,t,a){e=Box2D.wrapPointer(e,Box2D.b2Vec2),r=Box2D.wrapPointer(r,Box2D.b2Vec2),a.beginPath(),a.arc(e.get_x(),e.get_y(),o,0,2*Math.PI,!1),t&&a.fill(),a.stroke(),t&&((t=copyVec2(e)).op_add(scaledVec2(r,o)),a.beginPath(),a.moveTo(e.get_x(),e.get_y()),a.lineTo(t.get_x(),t.get_y()),a.stroke())}function drawTransform(e,o){var e=(r=Box2D.wrapPointer(e,Box2D.b2Transform)).get_p(),r=r.get_q();o.save(),o.translate(e.get_x(),e.get_y()),o.scale(.5,.5),o.rotate(r.GetAngle()),o.lineWidth*=2,drawAxes(o),o.restore()}function getCanvasDebugDraw(a){var e=new Box2D.JSDraw;return e.DrawSegment=function(e,o,r){setColorFromDebugDrawCallback(r,a),drawSegment(e,o,a)},e.DrawPolygon=function(e,o,r,t){setColorFromDebugDrawCallback(r,t),drawPolygon(e,o,!1,t)},e.DrawSolidPolygon=function(e,o,r){setColorFromDebugDrawCallback(r,a),drawPolygon(e,o,!0,a)},e.DrawCircle=function(e,o,r){setColorFromDebugDrawCallback(r,a),drawCircle(e,o,Box2D.b2Vec2(0,0),!1,a)},e.DrawSolidCircle=function(e,o,r,t){setColorFromDebugDrawCallback(t,a),drawCircle(e,o,r,!0,a)},e.DrawTransform=function(e){drawTransform(e,a)},e}
:root {
  --icon-theme: #fff;
  --shadow-icon-light: #ffffff99;
  --shadow-icon-dark: #00000099;
  --shadow-icon-theme: #ffdd1d;

  --background-grad-l0: #fff;
  --background-grad-l1: #bde5ff;
  --background-grad-l2: #608fff;
  --background-grad-d0: #0f4398;
  --background-grad-d1: #321d6a;
  --background-grad-d2: #000;

  --background-grad-px: 60%;
  --background-grad-py: 60%;

  --color-editor: #4b0082;
  --back-editor: #e2e2e2;
  --margin-editor: #e2e2e2;
  --tools-back: #6ebefc;

  --font-size: 24px;
  --line-height-ratio: 1.4;
}

[data-theme="dark"] {
  --icon-theme: #fff;
  --shadow-icon-light: #000000a8;
  --shadow-icon-dark: #ffffff25;
  --shadow-icon-theme: #fff;

  --background-grad-l0: #fff;
  --background-grad-l1: #bde5ff;
  --background-grad-l2: #608fff;
  --background-grad-d0: #0f4398;
  --background-grad-d1: #321d6a;
  --background-grad-d2: #000;

  --background-grad-px: 0%;
  --background-grad-py: 0%;

  --color-editor: #fff;
  --back-editor: #1a1a1a;
  --margin-editor: #1a1a1a;
  --tools-back: #2e1279;

  --font-size: 24px;
  --line-height-ratio: 1.4;
}

.regex-quotes {
  width: 3ch;
  text-align: center;
}

#beyond-editor div.container-editor #editor-input .input:focus-within,
#beyond-editor div.container-editor #editor-input .input:active {
  outline: #4b0082 solid 2px;
}

.input {
  overflow-y: auto;
  display: flex;
}

#beyond-editor div.container-editor #editor-input .input > div {
  position: relative;
  flex: none;
  margin-left: -100%;
  box-sizing: border-box;
}

#beyond-editor div.container-editor #editor-input .input > div:first-child {
  margin: 0;
}

.input-editor,
.input-syntax,
.input-carets {
  width: 100%;
  /* background-color: var(--margin-editor); */
  transition: transform 1s, background 1s, opacity 1s;
}

.input-carets {
  background: none;
  z-index: 3;
  pointer-events: none;
}

.caret {
  position: absolute;
  left: 0;
  top: 0;
  color: var(--color-editor);
  -webkit-animation: 1s blink step-end infinite;
  -moz-animation: 1s blink step-end infinite;
  -ms-animation: 1s blink step-end infinite;
  -o-animation: 1s blink step-end infinite;
  animation: 1s blink step-end infinite;
}

@keyframes blink {
  from,
  to {
    color: transparent;
  }
  50% {
    color: black;
  }
}
@-moz-keyframes blink {
  from,
  to {
    color: transparent;
  }
  50% {
    color: black;
  }
}
@-webkit-keyframes blink {
  from,
  to {
    color: transparent;
  }
  50% {
    color: black;
  }
}
@-ms-keyframes blink {
  from,
  to {
    color: transparent;
  }
  50% {
    color: black;
  }
}
@-o-keyframes blink {
  from,
  to {
    color: transparent;
  }
  50% {
    color: black;
  }
}

.input-editor {
  z-index: 2;
  background: transparent;
}
.input-syntax {
  z-index: 3;
}

/* .input-editor:focus-within,
.input-editor:focus-within + .input-syntax {
    transform: translateX(-10%) rotateX(30deg) rotateY(-45deg) rotateZ(0deg);
    transform-style: preserve-3d;
} */

/* .input-editor:focus-within + .input-syntax {
    opacity: 0.5;
    transform: translate(10%, -80%) rotateX(30deg) rotateY(-45deg) rotateZ(0deg);
} */

.editor::selection, .syntax::selection, .syntax *::selection, .syntax *::selection, .syntax * *::selection, .caret::selection {
  background: #bcbcbc;
}

.editor,
.syntax,
.caret {
  font-family: VictorMono, monospace;
  font-size: var(--font-size);
  cursor:text;
}

.editor,
.syntax {
  line-height: calc(var(--line-height-ratio) * var(--font-size));
  min-height: calc(var(--line-height-ratio) * var(--font-size));
  tab-size: 4;
  -moz-tab-size: 4;

  word-break: break-all;
  white-space: break-spaces;
}

.editor {
  width: 100%;
  /*  text-align: justify; */
  overflow: hidden;
  height: max-content;
  outline: none;
  /* color: white; */
  /* background: #2c2c2c; */
  /* Tiene que estar debido a que sino el caret no se ve */
  color: var(--color-editor);
  /*   color: transparent; */
  background: transparent;

  background: transparent;
  background-clip: text;
  -webkit-background-clip: text;
  -moz-background-clip: text;
  -webkit-text-fill-color: #ffffff00;
}

pre.editor {
  display: inline-block;
}

textarea.editor {
  width: 100%;
  resize: none;
  border: none;
  padding: 0;
  margin: 0;
  display: block;
}

.syntax {
  /* background-color: var(--back-editor); */
  word-break: break-all;
  /* white-space: nowrap; */
  /* pointer-events: none; */
  color: var(--color-editor);
}

.syntax *,
.syntax *:after,
.syntax *:before {
  transition: none;
}

/*Estilos de syntaxis*/
.code-inline {
  color: rgb(78, 204, 163);
  background-color: rgba(78, 204, 163, 0.08);
  border-radius: 0.5rem;
  padding: 3px;
}
.code-block {
  background-color: #595959;
  color: white;
  padding: 0.5rem;
  border-radius: 0.5rem;
}
mark {
  background-color: rgba(78, 204, 163, 0.1);
  padding: 0.25rem;
  border-radius: 0.5rem;
}
ins {
  text-decoration: underline;
  text-decoration-color: rgb(78, 204, 163);
}
.a-profile {
  color: #621055;
}
.a-profile:hover {
  color: #ed6663;
  text-decoration: none;
}

.special-chars {
  position: relative;
}
.special-chars:after, .special-chars:before {
  opacity: 0.4;
}
.special-chars:after {
  text-align: center;
  /* z-index: -1; */
  left: 0;
  top: 0;
  width: 100%;
  position: absolute;
  overflow: hidden;
  white-space: nowrap;
  pointer-events: none;
}

.space {
  white-space: break-spaces;
  word-break: break-all;
}
.space:after {
  content: "·";
  width: inherit;
}

.tab {
  white-space: pre-wrap;
}
.tab:after {
  content: "<---";
  direction: rtl;
  /*        >  */
  /*        ⤇  */
  /*        ⭲   */
}

.endline {
  white-space: pre;
  position: inherit;
}
/* .endline.special-chars:after {
} */

/*↲ ⤶ ⤶ ⤦ ⤸ ␍ ␤ ↩ ⏎ */
.endline:before {
  content: "↵";
  /* left: 0; */
  /* top: 0; */
  text-align: center;
  z-index: 1;
  height: inherit;
  position: absolute;
  /* overflow: hidden; */
  white-space: nowrap;
  pointer-events: none;
  /* box-sizing: content-box;*/
}

.no-color:before {
  color: transparent;
}

/* Hihghlights */
.regex .meta {
  font-weight: bold;
}
.regex .assert {
  background: #03c5c845;
  color: #000080;
  font-weight: bold;
}
.regex .AssertBegin {
  background: #4b00823d;
  color: #4b0082;
}

.regex .assert.AssertEnd {
  background: #4b00823d;
  color: #4b0082;
}

.regex .assert.AssertLookahead {
  background: #6495ed75; /* color: #004f72; */
}

.regex .parenthesis {
  color: green;
  font-weight: bold;
}

.regex span.group:hover {
  background: #4df06a0f;
  outline: 2px #00961b8f solid;
}

span.assert.AssertLookahead > .parenthesis {
  color: #004f72;
}

/* metasequence */
.regex .or {
  font-weight: bold;
  color: #c204c2;
}
.regex .charset {
  background: #f47f0859;
  color: #603000;
}

/* char class */
.regex .charset span {
  background: #e0a060;
  color: #302000;
}

/* char class: metasequence */
.regex .charset span {
  color: #cd6e0f;
}

/* char class: range-hyphen */
.regex .g1 {
  background: #00c0004a;
  color: #018f07;
}

/* group: depth 1 */
.regex .g2 {
  background: #c0c00063;
  color: #646402;
}

/* group: depth 2 */
.regex .g3 {
  background: #008000;
  color: #ffffff;
}

/* group: depth 3 */
.regex .g4 {
  background: #808000;
  color: #ffffff;
}

/* group: depth 4 */
.regex .g5 {
  background: #00ff00;
  color: #000000;
}

/* group: depth 5 */
.regex .err {
  background: #ff00004d;
  color: #a50000;
  text-decoration: underline 0.05em red wavy;
}

/* error */
.regex b,
.regex i,
.regex u {
  font-weight: normal;
  font-style: normal;
  text-decoration: none;
}

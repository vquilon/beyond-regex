function RegexHighlighter(e,l){let i=void 0;function o(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ |&nbsp;/g,'<span class="space special-chars"> </span>').replace(/\n/g,`<span class="endline special-chars">
</span>`).replace(/\t/g,`<span class="tab special-chars">	</span>`)}const u=(e,a,{extraClass:t="",extraAttributes:r="",closeTag:s=!0})=>{let n=[e.type],p=(""!==t&&n.push(t),`<span class="${n.join(" ")}" tokenId="${e.id}" tokenIndices="${e.indices.join(",")}" ${r}>`+a);return s&&(p+="</span>"),p},d=(a,e,t)=>{if(quant="",a.repeat)if(a.commentRepeatId){let e=t.filter(e=>e.id===a.commentRepeatId)[0];e.repeatComment=a.repeat.raw,e.repeatTokenId=a.id}else quant=`<i greedy="${!a.repeat.nonGreedy}">${a.repeat.raw}</i>`;return quant};var a=(e,a,t)=>{let r=o(e.raw);return e.repeat&&(t=d(e,0,t),r=o(e.raw.slice(0,e.repeat.beginIndex)),r+=t),u(e,r,{})},t=(e,a,t)=>{let r=o(e.raw);return e.repeat&&(t=d(e,0,t),r=o(e.raw.slice(0,e.repeat.beginIndex)),r+=t),u(e,r,{extraAttributes:`chars="${e.chars}"`})};const s={assert:(t,e,a)=>{var r={AssertBegin:[t.raw,""],AssertLookahead:['<span class="parenthesis">(</span>?=','<span class="parenthesis">)</span>'],AssertNegativeLookahead:['<span class="parenthesis">(</span>?!','<span class="parenthesis">)</span>'],AssertNonWordBoundary:["\\B",""],AssertWordBoundary:["\\b",""],AssertEnd:[t.raw,""]};let s="",n=("sub"in t&&t.sub.forEach((e,a)=>{s+=h(e,a,t.sub)}),""+r[t.assertionType][0]+s);return t.raw.slice(t.endParenIndex-t.indices[0]).startsWith(")")&&(n+=r[t.assertionType][1]),n+=d(t,0,a),u(t,n,{extraClass:t.assertionType})},backref:a,charset:(e,a,t)=>{let r=o(e.raw);return e.repeat&&(t=d(e,0,t),r=o(e.raw.slice(0,e.repeat.beginIndex)),r+=t),u(e,r,{})},choice:(e,a,t)=>{let s="";return e.branches.forEach((t,e,a)=>{let r="";t.forEach((e,a)=>{r+=h(e,a,t)}),s+=`<span class="branch">${r}</span>`,e!==a.length-1&&(s+='<span class="or">|</span>')}),e.repeat&&(t=d(e,0,t),s+=t),u(e,s,{})},dot:(e,a,t)=>{let r="";return e.repeat&&(r=d(e,0,t)),u(e,"."+r,{extraClass:"dot"})},empty:()=>"",exact:a,group:(t,e,a)=>{let r="";t.sub.forEach((e,a)=>{r+=h(e,a,t.sub)});var s=`non-capture="${t.nonCapture||"false"}" group-number="${t.num||""}" group-name="${t.name||""}"`;let n=t.nonCapture?"?:":"";var p={"(?P":`?P<${t.name}>`,"(?<":`?<${t.name}>`,"(?'":`?'${t.name}'`};let l="",i=(t.raw.slice(0,3)in p&&(n=o(n=t.name?p[t.raw.slice(0,3)]:""),l="group-named"),'<span class="parenthesis">)</span>'),c=(t.raw.slice(t.endParenIndex-t.indices[0]).startsWith(")")||(i=""),`<span class="parenthesis">(</span><span class="groupmod">${n}</span>`+r+i);return t.repeat&&(p=d(t,0,a),c+=p),u(t,c,{extraClass:l,extraAttributes:s})},hexadecimal:t,unicode:t,octal:t,comment:(e,a,t)=>{var r;let s='<span class="parenthesis">)</span>',n=(e.errors&&e.errors.some(e=>"UnterminatedGroup"===e.type)&&(s=""),0),p=(e.repeatComment&&(n=e.repeatComment.length),e.raw.substr(0,e.raw.length-n).endsWith(")")||(s=""),'<span class="parenthesis">(</span>?#'+e.comment+s);return e.repeatComment&&(r=`<i data-repeattokenid="${e.repeatTokenId}">${e.repeatComment}</i>`,p+=r),u(e,p,{})},unexpected:a},h=(e,a,t)=>{let r="";return e.type in s&&(r+=s[e.type](e,a,t)),r},c=(t,e)=>{let r="",a=(void 0===t?r=`<span>${e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}</span>`:t.tree.forEach((e,a)=>{r+=h(e,a,t.tree)}),document.createElement("div"));var s;return a.innerHTML=r,r=a.innerText!==e?a.innerText.length<e.length&&e.startsWith(a.innerText)?(s=e.slice(a.innerText.length),`<span>${r}</span><span>${o(s)}</span>`):`<span>${o(e)}</span>`:r};return{onInput:(e,a,{target:t})=>{var r,s,n,p;"TEXTAREA"===t.nodeName?i===t.value?i=t.value:(r=c(e,t.value),n=t.getAttribute("data-min-rows"),t._baseScrollHeight||(s=(p=t).value,p.value="",p._baseScrollHeight=p.scrollHeight,p._baseHeight=p.getBoundingClientRect().height,p.value=s),t.rows=n,p=Math.round(t.scrollHeight/t._baseScrollHeight),t.rows=n<=p?p:n):i===a?i=a:r=c(e,a),l.innerHTML=r}}}
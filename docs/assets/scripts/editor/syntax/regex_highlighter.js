function RegexHighlighter(i,l){let c=void 0;function o(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,'<span class="space special-chars"> </span>').replace(/\n/g,`<span class="endline special-chars">
</span>`).replace(/\t/g,`<span class="tab special-chars">	</span>`)}const g=(e,a)=>{const i=(e,a,n="",r="",s=!0)=>{let t=`<span class="${e.type} ${n}" tokenId="${e.id}" tokenIndices="${e.indices.join(",")}" ${r}>`+a;return s&&(t+="</span>"),t},n={assert:e=>{var a={AssertBegin:[e.raw,""],AssertLookahead:['<span class="parenthesis">(</span>?=','<span class="parenthesis">)</span>'],AssertNegativeLookahead:['<span class="parenthesis">(</span>?!','<span class="parenthesis">)</span>'],AssertNonWordBoundary:["\\B",""],AssertWordBoundary:["\\b",""],AssertEnd:[e.raw,""]};let n="",r=("sub"in e&&e.sub.forEach(e=>{n+=l(e)}),""+a[e.assertionType][0]+n+a[e.assertionType][1]);return e.repeat&&(a=`<i>${e.raw.slice(e.repeat.beginIndex)}</i>`,r+=a),i(e,r,e.assertionType)},group:e=>{let a="";e.sub.forEach(e=>{a+=l(e)});var n=`non-capture="${e.nonCapture||"false"}" group-number="${e.num||""}" group-name="${e.name||""}"`;let r=e.nonCapture?"?:":"";var s={"(?P":`?P<${e.name}>`,"(?<":`?<${e.name}>`,"(?'":`?'${e.name}'`};e.raw.slice(0,3)in s&&(r=o(r=e.name?s[e.raw.slice(0,3)]:""));let t='<span class="parenthesis">)</span>',p=(e.errors&&e.errors.some(e=>"UnterminatedGroup"===e.type)&&(t=""),'<span class="parenthesis">(</span>'+r+a+t);return e.repeat&&(s=`<i>${e.raw.slice(e.repeat.beginIndex)}</i>`,p+=s),i(e,p,extraAttributes=n)},choice:e=>{let s="";e.branches.forEach((e,a,n)=>{let r="";e.forEach(e=>{r+=l(e)}),s+=`<span class="branch">${r}</span>`,a!==n.length-1&&(s+='<span class="or">|</span>')}),e.repeat&&(a=`<i>${e.raw.slice(e.repeat.beginIndex)}</i>`,s+=a);var a=i(e,s);return a},charset:e=>{let a=o(e.raw);e.repeat&&(n=`<i>${e.raw.slice(e.repeat.beginIndex)}</i>`,a=o(e.raw.slice(0,e.repeat.beginIndex)),a+=n);var n=i(e,a);return n},exact:e=>{let a=o(e.raw);var n;return e.repeat&&(n=`<i>${e.raw.slice(e.repeat.beginIndex)}</i>`,a=o(e.raw.slice(0,e.repeat.beginIndex)),a+=n),i(e,a)},dot:e=>i(e,".",extraClass="dot")},l=e=>{let a="";return e.type in n&&(a+=n[e.type](e)),a};let r="",s=(void 0===e?r=`<span>${a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}</span>`:e.tree.forEach(e=>{r+=l(e)}),document.createElement("div"));return s.innerHTML=r,r=s.innerText!==a?s.innerText.length<a.length?(e=a.slice(s.innerText.length),`<span>${r}</span><span>${o(e)}</span>`):`<span>${o(a)}</span>`:r};return{onInput:(e,{target:a})=>{var n,r,s,t,p;"TEXTAREA"==a.nodeName?c===a.value?c=a.value:(n=g(e,a.value),t=(r=a).getAttribute("data-min-rows"),r._baseScrollHeight||(s=(p=r).value,p.value="",p._baseScrollHeight=p.scrollHeight,p._baseHeight=p.getBoundingClientRect().height,p.value=s),r.rows=t,p=Math.round(r.scrollHeight/r._baseScrollHeight),r.rows=t<=p?p:t):c===a.textContent?c=a.textContent:n=g(e,i.textContent),l.innerHTML=n}}}
function RegexHighlighter(i,l){let c=void 0;const t=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");function o(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,'<span class="space special-chars"> </span>').replace(/\n/g,`<span class="endline special-chars">
</span>`).replace(/\t/g,`<span class="tab special-chars">	</span>`)}const g=(e,a)=>{const i=(e,a,n="",s="",r=!0)=>{let t=`<span class="${e.type} ${n}" tokenId="${e.id}" tokenIndices="${e.indices.join(",")}" ${s}>`+a;return r&&(t+="</span>"),t};const n={assert:e=>{var a={AssertBegin:[e.raw,""],AssertLookahead:['<span class="parenthesis">(</span>?=','<span class="parenthesis">)</span>'],AssertNegativeLookahead:['<span class="parenthesis">(</span>?!','<span class="parenthesis">)</span>'],AssertNonWordBoundary:["\\B",""],AssertWordBoundary:["\\b",""],AssertEnd:[e.raw,""]};let n="",s=("sub"in e&&e.sub.forEach(e=>{n+=l(e)}),""+a[e.assertionType][0]+n+a[e.assertionType][1]);return e.repeat&&(a=`<i>${e.raw.slice(e.repeat.beginIndex)}</i>`,s+=a),i(e,s,e.assertionType)},group:e=>{let a="";e.sub.forEach(e=>{a+=l(e)});var n=`non-capture="${e.nonCapture||"false"}" group-number="${e.num||""}" group-name="${e.name||""}"`;let s=e.nonCapture?"?:":"";var r={"(?P":`?P<${e.name}>`,"(?<":`?<${e.name}>`,"(?'":`?'${e.name}'`};e.raw.slice(0,3)in r&&(s=o(s=e.name?r[e.raw.slice(0,3)]:""));let t='<span class="parenthesis">)</span>',p=(e.errors&&e.errors.some(e=>"UnterminatedGroup"===e.type)&&(t=""),'<span class="parenthesis">(</span>'+s+a+t);return e.repeat&&(r=`<i>${e.raw.slice(e.repeat.beginIndex)}</i>`,p+=r),i(e,p,extraAttributes=n)},choice:e=>{let r="";e.branches.forEach((e,a,n)=>{let s="";e.forEach(e=>{s+=l(e)}),r+=`<span class="branch">${s}</span>`,a!==n.length-1&&(r+='<span class="or">|</span>')}),e.repeat&&(a=`<i>${e.raw.slice(e.repeat.beginIndex)}</i>`,r+=a);var a=i(e,r);return a},charset:e=>{let a=o(e.raw);e.repeat&&(n=`<i>${e.raw.slice(e.repeat.beginIndex)}</i>`,a=o(e.raw.slice(0,e.repeat.beginIndex)),a+=n);var n=i(e,a);return n},exact:e=>{let a=o(e.raw);var n;return e.repeat&&(n=`<i>${e.raw.slice(e.repeat.beginIndex)}</i>`,a=o(e.raw.slice(0,e.repeat.beginIndex)),a+=n),i(e,a)},dot:e=>i(e,".",extraClass="dot")},l=e=>{let a="";return e.type in n&&(a+=n[e.type](e)),a};let s="",r=(void 0===e?s=`<span>${t(a)}</span>`:e.tree.forEach(e=>{s+=l(e)}),document.createElement("div"));return r.innerHTML=s,s=r.innerText!==a?r.innerText.length<a.length?(e=a.slice(r.innerText.length),`<span>${s}</span><span>${o(e)}</span>`):`<span>${o(a)}</span>`:s};return{onInput:(e,{target:a})=>{var n,s,r,t,p;"TEXTAREA"==a.nodeName?c===a.value?c=a.value:(n=g(e,a.value),t=(s=a).getAttribute("data-min-rows"),s._baseScrollHeight||(r=(p=s).value,p.value="",p._baseScrollHeight=p.scrollHeight,p._baseHeight=p.getBoundingClientRect().height,p.value=r),s.rows=t,p=Math.round(s.scrollHeight/s._baseScrollHeight),s.rows=t<=p?p:t):c===a.textContent?c=a.textContent:n=g(e,i.textContent),l.innerHTML=n}}}
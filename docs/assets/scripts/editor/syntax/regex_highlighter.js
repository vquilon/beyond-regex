function RegexHighlighter(e,s){let t=void 0;const i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");function c(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,'<span class="space special-chars"> </span>').replace(/\n/g,'<span class="endline special-chars">\n</span>').replace(/\t/g,'<span class="tab special-chars">\t</span>')}const p=(e,a)=>{const p=(e,a,n="",r="",s=!0)=>{let t=`<span class="${e.type} ${n}" tokenId="${e.id}" tokenIndices="${e.indices.join(",")}" ${r}>${a}`;return s&&(t+="</span>"),t};const n={assert:e=>{var a={AssertBegin:[e.raw,""],AssertLookahead:['<span class="parenthesis">(</span>?=','<span class="parenthesis">)</span>'],AssertNegativeLookahead:['<span class="parenthesis">(</span>?!','<span class="parenthesis">)</span>'],AssertNonWordBoundary:["\\B",""],AssertWordBoundary:["\\b",""],AssertEnd:[e.raw,""]};let n="";"sub"in e&&e.sub.forEach(e=>{n+=l(e)});let r=`${a[e.assertionType][0]}${n}`;return r+=e.raw.endsWith(")")?a[e.assertionType][1]:"",e.repeat&&(a=`<i>${e.raw.slice(e.repeat.beginIndex)}</i>`,r+=a),p(e,r,e.assertionType)},group:e=>{let a="";e.sub.forEach(e=>{a+=l(e)});var n=`non-capture="${e.nonCapture||"false"}" group-number="${e.num||""}" group-name="${e.name||""}"`;let r=e.nonCapture?"?:":"";var s={"(?P":`?P<${e.name}>`,"(?<":`?<${e.name}>`,"(?'":`?'${e.name}'`};e.raw.slice(0,3)in s&&(r=e.name?s[e.raw.slice(0,3)]:"",r=c(r));let t='<span class="parenthesis">)</span>';e.errors&&e.errors.some(e=>"UnterminatedGroup"===e.type)&&(t=""),e.raw.endsWith(")")||(t="");let i=`<span class="parenthesis">(</span>${r}${a}${t}`;return e.repeat&&(s=`<i>${e.raw.slice(e.repeat.beginIndex)}</i>`,i+=s),p(e,i,extraAttributes=n)},choice:e=>{let s="";var a;return e.branches.forEach((e,a,n)=>{let r="";e.forEach(e=>{r+=l(e)}),s+=`<span class="branch">${r}</span>`,a!==n.length-1&&(s+='<span class="or">|</span>')}),e.repeat&&(a=`<i>${e.raw.slice(e.repeat.beginIndex)}</i>`,s+=a),p(e,s)},charset:e=>{let a=c(e.raw);var n;return e.repeat&&(n=`<i>${e.raw.slice(e.repeat.beginIndex)}</i>`,a=c(e.raw.slice(0,e.repeat.beginIndex)),a+=n),p(e,a)},exact:e=>{let a=c(e.raw);var n;return e.repeat&&(n=`<i>${e.raw.slice(e.repeat.beginIndex)}</i>`,a=c(e.raw.slice(0,e.repeat.beginIndex)),a+=n),p(e,a)},dot:e=>p(e,".",extraClass="dot")},l=e=>{let a="";return e.type in n&&(a+=n[e.type](e)),a};let r="";void 0===e?r=`<span>${i(a)}</span>`:e.tree.forEach(e=>{r+=l(e)});let s=document.createElement("div");return s.innerHTML=r,s.innerText!==a&&(r=s.innerText.length<a.length&&a.startsWith(s.innerText)?(e=a.slice(s.innerText.length),`<span>${r}</span><span>${c(e)}</span>`):`<span>${c(a)}</span>`),r};return{onInput:(e,a,{target:n})=>{var r;"TEXTAREA"===n.nodeName?t===n.value?t=n.value:(r=p(e,n.value),(e=>{var a,n,r=e.getAttribute("data-min-rows");e._baseScrollHeight||(n=(a=e).value,a.value="",a._baseScrollHeight=a.scrollHeight,a._baseHeight=a.getBoundingClientRect().height,a.value=n),e.rows=r;var s=Math.round(e.scrollHeight/e._baseScrollHeight);e.rows=r<=s?s:r})(n)):t===a?t=a:r=p(e,a),s.innerHTML=r}}}
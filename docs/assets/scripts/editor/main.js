var EditorParser=e=>{var r=e.noneditor||!1;const t=e.debug||!1;var n=document.querySelector("#input"),a=document.querySelector("#editor-error"),o=document.getElementsByName("flag"),c=document.querySelector("#iframeIt");let i=e.raphaelJSONId||"raphael-json",l=e.regexSONId||"regex-json";function u(){for(var e="",r=0,t=o.length;r<t;r++)o[r].checked&&(e+=o[r].value);return e}var s=document.querySelector("#visualizeClick"),d=document.querySelector(`#${e.loader_view_id}`),p=function(){a.style.display="none"},g=function(e,r){a.style.display="block";var t=[],n=[];"number"==typeof r.lastIndex&&t.push(e),n.push("Error:"+r.message),n.push(""),a.querySelector(".errorBox").style.setProperty("--position-error-ch",`${r.lastIndex}ch`),f(a.querySelector(".errorBox"),t.join("\n")),f(a.querySelector(".errorDef"),n.join("\n"))},e=function(e){for(var r=0,t=e.length;r<t;r++)~e.indexOf(o[r].value)?o[r].checked=!0:o[r].checked=!1};const m=()=>document.querySelector("[name='languageRegex']:checked").value;function f(e,r){e.innerHTML="";var t=document.createTextNode("");return t.nodeValue=r,e.appendChild(t),r}function y(e,r){t&&(e.innerHTML="",window.setTimeout(()=>JsonView.renderJSON(r,e),50))}const h=e=>{e={raw:e.raw.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),groupCount:e.groupCount,tree:e.tree};var r=document.querySelector(`#${l}`);y(r,e)},v=r=>{p();var e=null;try{var t=RegexParser(),e=t(r,null,m())}catch(e){if(!(e instanceof t.RegexSyntaxError))throw e;g(r,e)}return e&&h(e),e};function x(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function S(){return x(n.value)}function b(){var e=location.hash;return!e||e.length<2?e={reLang:"python",embed:!1,re:"",highlight:!0,flags:""}:((e=(e=e.slice(2)).split("&").reduce(function(e,r){return e[(r=r.split("="))[0]]=r[1],e},{})).raLang=e.reLang,e.embed="true"===e.embed,e.flags=e.flags||"",e.re=e.re?x(decodeURIComponent(e.re)):""),e}var w,q;return r||(function(){n.addEventListener("input",function(e){window.hasChanges=!0,s.disabled=!1}),c.addEventListener("click",function(){if(!v(n.value))return!1;var e=(r=location.href).indexOf("#"),r=0<e?r.slice(0,e):r,e=S();const t=`
            <iframe frameborder="0" width="500px" height="300px"
            src="${r}#!embed=true&flags=${u()}&re=${encodeURIComponent(e)}">
            </iframe>`;e=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");Swal.fire({title:"Share your visual regex",html:`
                <div id="beyond-regex-iframe-copy" class="container-copy">
                    <div class="iframe-copier">
                        <div class="iframe-content">
                            <span>${e}</span>
                        </div>
                        <div class="wrap-copy-iframe"><button class="copy-iframe"><i class="far fa-copy"></i></button></div>
                    </div>
                </div>
                `,icon:"info",iconHtml:'<span class="sweetalert-icon material-icons">share</span>',showCancelButton:!0,showConfirmButton:!1,showCloseButton:!0,cancelButtonText:"Close",didOpen:()=>{Swal.showLoading(),document.querySelector("#beyond-regex-iframe-copy button.copy-iframe").addEventListener("click",function(){navigator.clipboard.writeText(t),document.querySelector("#beyond-regex-iframe-copy .copy-iframe>i").className="fas fa-check",document.querySelector("#beyond-regex-iframe-copy .iframe-copier").classList.add("copied"),setTimeout(function(){var e=document.querySelector("#beyond-regex-iframe-copy .copy-iframe>i");let r=document.querySelector("#beyond-regex-iframe-copy .iframe-copier");e&&r&&r.classList.remove("copied")},1e3)}),Swal.hideLoading()}})});let e=document.querySelectorAll("[name='languageRegex']");for(var r=0,t=e.length;r<t;r++)e[r].onclick=function(){d.classList.contains("loading")||s.disabled&&(s.disabled=!1)}}(),!(w=b()).embed&&"export"!=w.cmd||(document.body.className+=" embed"),w.flags&&e(w.flags),w.re&&(q=w.re,n.value=x(q))),{parseSharedRegex:(e,r="python")=>{var t=null;try{var n=RegexParser(),t=n(e,null,r)}catch(e){if(!(e instanceof n.RegexSyntaxError))throw e}return t},getParams:b,trim:x,parseRegex:v,getFlags:u,setFlags:e,getReLanguage:m,getInputValue:S,_updateRaphaelItemsJSON:e=>{var r=document.querySelector(`#${i}`);y(r,e)}}};
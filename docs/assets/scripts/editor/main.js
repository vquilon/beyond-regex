var EditorParser=e=>{var r=e.noneditor||!1;const t=e.debug||!1;var o=document.querySelector("#input"),a=document.querySelector("#real-time-check"),n=document.querySelector("#terminal-error"),c=n.querySelector("#errorDef"),l=n.querySelector("#errorBox"),i=document.querySelector("#editor-terminal").querySelector("#terminal-stats"),s=document.getElementsByName("flag"),u=document.querySelector("#iframeIt");let d=e.raphaelJSONId||"raphael-json",m=e.regexSONId||"regex-json";function p(){for(var e="",r=0,t=s.length;r<t;r++)s[r].checked&&(e+=s[r].value);return e}function g(e,r){n.classList.remove("correct-syntax"),(async()=>{const e=Swal.mixin({toast:!0,position:"top-right",iconColor:"white",customClass:{popup:"colored-toast"},showConfirmButton:!1,timer:1500,timerProgressBar:!0});await e.fire({icon:"error",title:"Error: See the editor console error!"})})(),n.style.display="block";var t=[],o=[];"number"==typeof r.lastIndex&&t.push(` ${e}`),o.push("Error:"+r.message),o.push(""),l.style.setProperty("--position-error-ch",`${r.lastIndex+1}ch`),v(l,t.join("\n")),v(c,o.join("\n"))}var f=document.querySelector("#visualizeClick"),y=document.querySelector(`#${e.loader_view_id}`),e=function(e){for(var r=0,t=e.length;r<t;r++)~e.indexOf(s[r].value)?s[r].checked=!0:s[r].checked=!1};const h=()=>document.querySelector("[name='languageRegex']:checked").value;function v(e,r){e.innerHTML="";var t=document.createTextNode("");return t.nodeValue=r,e.appendChild(t),r}function x(e,r){t&&(e.innerHTML="",window.setTimeout(()=>JsonView.renderJSON(r,e),50))}const S=e=>{v(l,""),v(c,"Correct syntax"),n.classList.add("correct-syntax");var r,t,o=null;try{var a=RegexParser(),o=a(e,null,h());t=o,r=`${(r=e).length}`,t=`${o.groupCount}`,v(i.querySelector("#re-len .stat-value"),r),v(i.querySelector("#re-groups .stat-value"),t)}catch(o){if(!(o instanceof a.RegexSyntaxError))throw o;g(e,o)}return o&&(e={raw:(e=o).raw.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),groupCount:e.groupCount,tree:e.tree},x(document.querySelector(`#${m}`),e)),o};function w(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function b(){return o.value}function q(){var e=location.hash;return!e||e.length<2?e={reLang:"python",embed:!1,re:"",highlight:!0,flags:""}:((e=(e=e.slice(2)).split("&").reduce(function(e,r){return e[(r=r.split("="))[0]]=r[1],e},{})).raLang=e.reLang,e.embed="true"===e.embed,e.flags=e.flags||"",e.re=e.re?w(decodeURIComponent(e.re)):""),e}return r||(function(){o.addEventListener("input",function(e){a.checked&&S(o.value),window.hasChanges=!0,f.disabled=!1}),u.addEventListener("click",function(){if(!S(o.value))return!1;var e=0<(r=(e=location.href).indexOf("#"))?e.slice(0,r):e,r=b();const t=`
            <iframe frameborder="0" width="500px" height="300px"
            src="${e}#!embed=true&flags=${p()}&re=${encodeURIComponent(r)}">
            </iframe>`;r=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),Swal.fire({title:"Share your visual regex",html:`
                <div id="beyond-regex-iframe-copy" class="container-copy">
                    <div class="iframe-copier">
                        <div class="iframe-content">
                            <span>${r}</span>
                        </div>
                        <div class="wrap-copy-iframe"><button class="copy-iframe"><i class="far fa-copy"></i></button></div>
                    </div>
                </div>
                `,icon:"info",iconHtml:'<span class="sweetalert-icon material-icons">share</span>',showCancelButton:!0,showConfirmButton:!1,showCloseButton:!0,cancelButtonText:"Close",didOpen:()=>{Swal.showLoading(),document.querySelector("#beyond-regex-iframe-copy button.copy-iframe").addEventListener("click",function(){navigator.clipboard.writeText(t),document.querySelector("#beyond-regex-iframe-copy .copy-iframe>i").className="fas fa-check",document.querySelector("#beyond-regex-iframe-copy .iframe-copier").classList.add("copied"),setTimeout(function(){var e=document.querySelector("#beyond-regex-iframe-copy .copy-iframe>i");let r=document.querySelector("#beyond-regex-iframe-copy .iframe-copier");e&&r&&r.classList.remove("copied")},1e3)}),Swal.hideLoading()}})}),l.addEventListener("scroll",e=>{o.scrollLeft=e.currentTarget.scrollLeft});let e=document.querySelectorAll("[name='languageRegex']");for(var r=0,t=e.length;r<t;r++)e[r].onclick=function(){y.classList.contains("loading")||f.disabled&&(f.disabled=!1)}}(),!(r=q()).embed&&"export"!=r.cmd||(document.body.className+=" embed"),r.flags&&e(r.flags),r.re&&(r=r.re,o.value=w(r))),{parseSharedRegex:(e,r="python")=>{var t=null;try{var o=RegexParser(),t=o(e,null,r)}catch(e){if(!(e instanceof o.RegexSyntaxError))throw e}return t},getParams:q,trim:w,parseRegex:S,getFlags:p,setFlags:e,getReLanguage:h,getInputValue:b,_updateRaphaelItemsJSON:e=>{x(document.querySelector(`#${d}`),e)}}};
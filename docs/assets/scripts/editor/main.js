var EditorParser=e=>{var r=e.noneditor||!1;const t=e.debug||!1;var o=document.querySelector("#input"),n=document.querySelector("#editor-error"),a=document.getElementsByName("flag"),c=document.querySelector("#iframeIt");let i=e.raphaelJSONId||"raphael-json",l=e.regexSONId||"regex-json";function s(){for(var e="",r=0,t=a.length;r<t;r++)a[r].checked&&(e+=a[r].value);return e}function u(e,r){(async()=>{const e=Swal.mixin({toast:!0,position:"top-right",iconColor:"white",customClass:{popup:"colored-toast"},showConfirmButton:!1,timer:1500,timerProgressBar:!0});await e.fire({icon:"error",title:"Error: See the editor console error!"})})(),n.style.display="block";var t=[],o=[];"number"==typeof r.lastIndex&&t.push(e),o.push("Error:"+r.message),o.push(""),n.querySelector(".errorBox").style.setProperty("--position-error-ch",`${r.lastIndex}ch`),m(n.querySelector(".errorBox"),t.join("\n")),m(n.querySelector(".errorDef"),o.join("\n"))}var d=document.querySelector("#visualizeClick"),p=document.querySelector(`#${e.loader_view_id}`),e=function(e){for(var r=0,t=e.length;r<t;r++)~e.indexOf(a[r].value)?a[r].checked=!0:a[r].checked=!1};const g=()=>document.querySelector("[name='languageRegex']:checked").value;function m(e,r){e.innerHTML="";var t=document.createTextNode("");return t.nodeValue=r,e.appendChild(t),r}function f(e,r){t&&(e.innerHTML="",window.setTimeout(()=>JsonView.renderJSON(r,e),50))}const y=e=>{n.style.display="none";var r=null;try{var t=RegexParser(),r=t(e,null,g())}catch(r){if(!(r instanceof t.RegexSyntaxError))throw r;u(e,r)}return r&&(e={raw:(e=r).raw.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),groupCount:e.groupCount,tree:e.tree},f(document.querySelector(`#${l}`),e)),r};function h(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function v(){return h(o.value)}function x(){var e=location.hash;return!e||e.length<2?e={reLang:"python",embed:!1,re:"",highlight:!0,flags:""}:((e=(e=e.slice(2)).split("&").reduce(function(e,r){return e[(r=r.split("="))[0]]=r[1],e},{})).raLang=e.reLang,e.embed="true"===e.embed,e.flags=e.flags||"",e.re=e.re?h(decodeURIComponent(e.re)):""),e}return r||(function(){o.addEventListener("input",function(e){window.hasChanges=!0,d.disabled=!1}),c.addEventListener("click",function(){if(!y(o.value))return!1;var e=0<(r=(e=location.href).indexOf("#"))?e.slice(0,r):e,r=v();const t=`
            <iframe frameborder="0" width="500px" height="300px"
            src="${e}#!embed=true&flags=${s()}&re=${encodeURIComponent(r)}">
            </iframe>`;r=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),Swal.fire({title:"Share your visual regex",html:`
                <div id="beyond-regex-iframe-copy" class="container-copy">
                    <div class="iframe-copier">
                        <div class="iframe-content">
                            <span>${r}</span>
                        </div>
                        <div class="wrap-copy-iframe"><button class="copy-iframe"><i class="far fa-copy"></i></button></div>
                    </div>
                </div>
                `,icon:"info",iconHtml:'<span class="sweetalert-icon material-icons">share</span>',showCancelButton:!0,showConfirmButton:!1,showCloseButton:!0,cancelButtonText:"Close",didOpen:()=>{Swal.showLoading(),document.querySelector("#beyond-regex-iframe-copy button.copy-iframe").addEventListener("click",function(){navigator.clipboard.writeText(t),document.querySelector("#beyond-regex-iframe-copy .copy-iframe>i").className="fas fa-check",document.querySelector("#beyond-regex-iframe-copy .iframe-copier").classList.add("copied"),setTimeout(function(){var e=document.querySelector("#beyond-regex-iframe-copy .copy-iframe>i");let r=document.querySelector("#beyond-regex-iframe-copy .iframe-copier");e&&r&&r.classList.remove("copied")},1e3)}),Swal.hideLoading()}})});let e=document.querySelectorAll("[name='languageRegex']");for(var r=0,t=e.length;r<t;r++)e[r].onclick=function(){p.classList.contains("loading")||d.disabled&&(d.disabled=!1)}}(),!(r=x()).embed&&"export"!=r.cmd||(document.body.className+=" embed"),r.flags&&e(r.flags),r.re&&(r=r.re,o.value=h(r))),{parseSharedRegex:(e,r="python")=>{var t=null;try{var o=RegexParser(),t=o(e,null,r)}catch(e){if(!(e instanceof o.RegexSyntaxError))throw e}return t},getParams:x,trim:h,parseRegex:y,getFlags:s,setFlags:e,getReLanguage:g,getInputValue:v,_updateRaphaelItemsJSON:e=>{f(document.querySelector(`#${i}`),e)}}};
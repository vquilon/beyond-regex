var EditorParser=e=>{var r=e.noneditor||!1;const t=e.debug||!1;var n=document.querySelector("#input"),o=document.querySelector("#editor-error"),a=document.getElementsByName("flag"),c=document.querySelector("#iframeIt");let i=e.raphaelJSONId||"raphael-json",l=e.regexSONId||"regex-json";function u(){for(var e="",r=0,t=a.length;r<t;r++)a[r].checked&&(e+=a[r].value);return e}var s=document.querySelector("#visualizeClick"),d=document.querySelector(`#${e.loader_view_id}`),e=function(e){for(var r=0,t=e.length;r<t;r++)~e.indexOf(a[r].value)?a[r].checked=!0:a[r].checked=!1};const p=()=>document.querySelector("[name='languageRegex']:checked").value;function g(e,r){e.innerHTML="";var t=document.createTextNode("");return t.nodeValue=r,e.appendChild(t),r}function m(e,r){t&&(e.innerHTML="",window.setTimeout(()=>JsonView.renderJSON(r,e),50))}const f=e=>{o.style.display="none";var r=null;try{var t=RegexParser(),r=t(e,null,p())}catch(r){if(!(r instanceof t.RegexSyntaxError))throw r;!function(e,r){o.style.display="block";var t=[],n=[];"number"==typeof r.lastIndex&&t.push(e),n.push("Error:"+r.message),n.push(""),o.querySelector(".errorBox").style.setProperty("--position-error-ch",`${r.lastIndex}ch`),g(o.querySelector(".errorBox"),t.join("\n")),g(o.querySelector(".errorDef"),n.join("\n"))}(e,r)}return r&&(e={raw:(e=r).raw.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),groupCount:e.groupCount,tree:e.tree},m(document.querySelector(`#${l}`),e)),r};function y(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function h(){return y(n.value)}function v(){var e=location.hash;return!e||e.length<2?e={reLang:"python",embed:!1,re:"",highlight:!0,flags:""}:((e=(e=e.slice(2)).split("&").reduce(function(e,r){return e[(r=r.split("="))[0]]=r[1],e},{})).raLang=e.reLang,e.embed="true"===e.embed,e.flags=e.flags||"",e.re=e.re?y(decodeURIComponent(e.re)):""),e}return r||(function(){n.addEventListener("input",function(e){window.hasChanges=!0,s.disabled=!1}),c.addEventListener("click",function(){if(!f(n.value))return!1;var e=0<(r=(e=location.href).indexOf("#"))?e.slice(0,r):e,r=h();const t=`
            <iframe frameborder="0" width="500px" height="300px"
            src="${e}#!embed=true&flags=${u()}&re=${encodeURIComponent(r)}">
            </iframe>`;r=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),Swal.fire({title:"Share your visual regex",html:`
                <div id="beyond-regex-iframe-copy" class="container-copy">
                    <div class="iframe-copier">
                        <div class="iframe-content">
                            <span>${r}</span>
                        </div>
                        <div class="wrap-copy-iframe"><button class="copy-iframe"><i class="far fa-copy"></i></button></div>
                    </div>
                </div>
                `,icon:"info",iconHtml:'<span class="sweetalert-icon material-icons">share</span>',showCancelButton:!0,showConfirmButton:!1,showCloseButton:!0,cancelButtonText:"Close",didOpen:()=>{Swal.showLoading(),document.querySelector("#beyond-regex-iframe-copy button.copy-iframe").addEventListener("click",function(){navigator.clipboard.writeText(t),document.querySelector("#beyond-regex-iframe-copy .copy-iframe>i").className="fas fa-check",document.querySelector("#beyond-regex-iframe-copy .iframe-copier").classList.add("copied"),setTimeout(function(){var e=document.querySelector("#beyond-regex-iframe-copy .copy-iframe>i");let r=document.querySelector("#beyond-regex-iframe-copy .iframe-copier");e&&r&&r.classList.remove("copied")},1e3)}),Swal.hideLoading()}})});let e=document.querySelectorAll("[name='languageRegex']");for(var r=0,t=e.length;r<t;r++)e[r].onclick=function(){d.classList.contains("loading")||s.disabled&&(s.disabled=!1)}}(),!(r=v()).embed&&"export"!=r.cmd||(document.body.className+=" embed"),r.flags&&e(r.flags),r.re&&(r=r.re,n.value=y(r))),{parseSharedRegex:(e,r="python")=>{var t=null;try{var n=RegexParser(),t=n(e,null,r)}catch(e){if(!(e instanceof n.RegexSyntaxError))throw e}return t},getParams:v,trim:y,parseRegex:f,getFlags:u,setFlags:e,getReLanguage:p,getInputValue:h,_updateRaphaelItemsJSON:e=>{m(document.querySelector(`#${i}`),e)}}};
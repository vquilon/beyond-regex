function parse(){var t,c,a,r=Kit();function e(){var e=Object.keys(t).map(function(e){return e+"="+JSON.stringify(t[e])}).join(";");!function(){return this}().eval(e)}function o(e){this.raw=e.raw,this.tree=e.tree,this.groupCount=e.groupCount}function n(e,t,a){var r;c=t;var n,s=(r=h(a).input(e,0,t)).stack,s=E.endChoice(s),i=r.lastState;if(!(t=r.acceptable&&r.lastIndex===e.length-1)){switch(i){case"charsetRangeEndWithNullChar":n={type:"CharsetRangeEndWithNullChar",message:"Charset range end with NUL char does not make sense!\nBecause [a-\\0] is not a valid range.\nAnd [\\0-\\0] should be rewritten into [\\0]."};break;case"repeatErrorFinal":n={type:"NothingRepeat",message:"Nothing to repeat!"};break;case"digitFollowNullError":n={type:"DigitFollowNullError",message:"The '\\0' represents the <NUL> char and cannot be followed by a decimal digit!"};break;case"charsetRangeEndClass":n={type:"CharsetRangeEndClass",message:'Charset range ends with class such as "\\w\\W\\d\\D\\s\\S" is invalid!'};break;case"charsetOctEscape":n={type:"DecimalEscape",message:"Decimal escape appears in charset is invalid.Because it can't be explained as  backreference.And octal escape is deprecated!"};break;default:0===i.indexOf("charset")?n={type:"UnclosedCharset",message:"Unterminated character class!"}:")"===e[r.lastIndex]?n={type:"UnmatchedParen",message:"Unmatched end parenthesis!"}:(n={type:"UnexpectedChar",message:"Unexpected char!"},r.lastIndex++)}if(n)throw n.lastIndex=r.lastIndex,n.lastStack=r.stack,n.lastState=i,new g(n)}if(s._parentGroup)throw new g({type:"UnterminatedGroup",message:"Unterminated group!",lastIndex:s._parentGroup.indices[0],lastState:i,lastStack:s});if(t)return t=s.groupCounter?s.groupCounter.i:0,delete s.groupCounter,function a(e,r,t){return e.length?(e.reduce(function(e,t){return t.indices.push(e),t.raw=r.slice(t.indices[0],e),t.type===GROUP_NODE||t.type===ASSERT_NODE&&t.sub?a(t.sub,r,t.endParenIndex):t.type===CHOICE_NODE?(t.branches.reduce(function(e,t){return a(t,r,e),((t=t[0])?t.indices[0]:e)-1},e),t.branches.reverse()):t.type===EXACT_NODE&&(t.concatTemp||(t.chars=t.chars||t.raw)),t.indices[0]},t),void e.reverse()):(e.push({type:EMPTY_NODE,indices:[t,t]}),0)}(s,e,e.length),(t=new o({raw:e,groupCount:t,tree:s=p(s)})).traverse(l,CHARSET_NODE,a),t.traverse(d,ASSERT_NODE,a),u(s),c=!1,t}function h(e="javascript6"){return e=N[e],a=a||new NFA(e)}function i(e,t,a){Object.defineProperty(e,t,{value:a,enumerable:c,writable:!0,configurable:!0})}function p(e){return e.filter(function(e){return e.type==EXACT_NODE&&e.concatTemp?(delete e.concatTemp,!!e.chars):(e.sub?e.sub=p(e.sub):e.branches&&(e.branches=e.branches.map(p)),!0)})}function u(e){function t(e){e.sub?u(e.sub):e.branches&&e.branches.map(u)}var a=e[0];t(a);for(var r,n=1,s=1,i=e.length;n<i;n++){if((r=e[n]).type===EXACT_NODE){if(a.type===EXACT_NODE&&!a.repeat&&!r.repeat){a.indices[1]=r.indices[1],a.raw+=r.raw,a.chars+=r.chars;continue}}else t(r);a=e[s++]=r}a&&(e.length=s)}function d(e,t){if(e.repeat&&"python"!=t){var a=e.assertionType,t="Nothing to repeat! Repeat after assertion doesn't make sense!";throw"AssertLookahead"!==a&&"AssertNegativeLookahead"!==a||(t+="\n/a"+(a="("+("AssertLookahead"===a?"?=":"?!")+"b)")+"+/、/a"+a+"{1,n}/ are the same as /a"+a+"/。\n/a"+a+"*/、/a"+a+"{0,n}/、/a"+a+"?/ are the same as /a/。"),new g({type:"NothingRepeat",lastIndex:e.indices[1]-1,message:t})}}function l(e,t){e.ranges=r.sortUnique(e.ranges.map(function(e){if(e[0]>e[1])throw new g({type:"OutOfOrder",lastIndex:e.lastIndex,message:"Range ["+e.join("-")+"] out of order in character class!"});return e.join("")}))}function g(e){this.name="RegexSyntaxError",this.type=e.type,this.lastIndex=e.lastIndex,this.lastState=e.lastState,this.lastStack=e.lastStack,this.message=e.message,Object.defineProperty(this,"stack",{value:new Error(e.message).stack,enumerable:!1})}t={EXACT_NODE:"exact",CHARSET_NODE:"charset",CHOICE_NODE:"choice",GROUP_NODE:"group",ASSERT_NODE:"assert",DOT_NODE:"dot",BACKREF_NODE:"backref",EMPTY_NODE:"empty",AssertLookahead:"AssertLookahead",AssertNegativeLookahead:"AssertNegativeLookahead",AssertNonWordBoundary:"AssertNonWordBoundary",AssertWordBoundary:"AssertWordBoundary",AssertEnd:"AssertEnd",AssertBegin:"AssertBegin"},e(),o.prototype.traverse=function(e,n,t){!function t(e,a,r){e.forEach(function(e){n&&e.type!==n||a(e,r),e.sub?t(e.sub,a,r):e.branches&&e.branches.forEach(function(e){t(e,a,r)})})}(this.tree,e,t)},n.Constants=t,n.exportConstants=e,n.RegexSyntaxError=g,n.getNFAParser=h,g.prototype.toString=function(){return this.name+" "+this.type+":"+this.message};var s={n:"\n",r:"\r",t:"\t",v:"\v",f:"\f"},E={escapeStart:function(e,t,a){e.unshift({concatTemp:!0,id:Math.random().toString(36).substr(2,9),type:EXACT_NODE,chars:"",indices:[a]})},exact:function(e,t,a){var r=e[0];(!r||r.type!=EXACT_NODE||r.repeat||r.chars&&!r.concatTemp)&&e.unshift({id:Math.random().toString(36).substr(2,9),type:EXACT_NODE,indices:[a]}),r&&r.concatTemp&&(r.chars+=t)},dot:function(e,t,a){e.unshift({id:Math.random().toString(36).substr(2,9),type:DOT_NODE,indices:[a]})},nullChar:function(e,t,a){e.unshift({id:Math.random().toString(36).substr(2,9),type:EXACT_NODE,chars:"\0",indices:[a-1]})},assertBegin:function(e,t,a){e.unshift({id:Math.random().toString(36).substr(2,9),type:ASSERT_NODE,indices:[a],assertionType:AssertBegin})},assertEnd:function(e,t,a,r,n){e.unshift({id:Math.random().toString(36).substr(2,9),type:ASSERT_NODE,indices:[a],assertionType:AssertEnd})},assertWordBoundary:function(e,t,a){e.unshift({id:Math.random().toString(36).substr(2,9),type:ASSERT_NODE,indices:[a-1],assertionType:"b"==t?AssertWordBoundary:AssertNonWordBoundary})},repeatnStart:function(e,t,a){e[0].type!==EXACT_NODE&&e.unshift({id:Math.random().toString(36).substr(2,9),type:EXACT_NODE,indices:[a]})},repeatnComma:function(e,t,a){i(e[0],"_commaIndex",a)},repeatNonGreedy:function(e){e[0].repeat.nonGreedy=!0},repeatnEnd:function(e,t,a,r,n){var s,i=e[0],c=n.lastIndexOf("{",a),o=parseInt(n.slice(c+1,i._commaIndex||a),10);if(i._commaIndex){if((s=i._commaIndex+1==a?1/0:parseInt(n.slice(i._commaIndex+1,a),10))<o)throw new g({type:"OutOfOrder",lastState:r,lastIndex:a,lastStack:e,message:"Numbers out of order in {} quantifier!"});delete i._commaIndex}else s=o;i.indices[0]>=c&&e.shift(),f(e,o,s,c,n)},repeat1ToInf:function(e,t,a,r,n){f(e,1,1/0,a,n)},repeat0To1:function(e,t,a,r,n){f(e,0,1,a,n)},repeat0ToInf:function(e,t,a,r,n){f(e,0,1/0,a,n)},charClassEscape:function(e,t,a){e.unshift({id:Math.random().toString(36).substr(2,9),type:CHARSET_NODE,indices:[a-1],chars:"",ranges:[],classes:[t],exclude:!1})},normalEscape:function(e,t,a){s.hasOwnProperty(t)&&(t=s[t]),e.unshift({id:Math.random().toString(36).substr(2,9),type:EXACT_NODE,chars:t,indices:[a-1]})},unicodeEscape:function(e,t,a,r,n){t=String.fromCharCode(parseInt(n.slice(a-3,a+1),16)),e.shift(),e.unshift({id:Math.random().toString(36).substr(2,9),type:EXACT_NODE,chars:t,indices:[a-5]})},hexEscape:function(e,t,a,r,n){t=String.fromCharCode(parseInt(n[a-1]+t,16)),e.shift(),e.unshift({id:Math.random().toString(36).substr(2,9),type:EXACT_NODE,chars:t,indices:[a-3]})},groupStart:function(e,t,a){var r=e.groupCounter=e.groupCounter||{i:0};return r.i++,i(e=(a={id:Math.random().toString(36).substr(2,9),type:GROUP_NODE,name:"",num:r.i,sub:[],indices:[a],_parentStack:e}).sub,"_parentGroup",a),e.groupCounter=r,e},groupNonCapture:function(e){var t=e._parentGroup;t.nonCapture=!0,t.num=void 0,e.groupCounter.i--},groupNamedContent:function(e,t){e._parentGroup.name+=t},backref:function(e,t,a,r){var n=e[0],s=parseInt(t,10),t=(t=e.groupCounter)&&t.i||0;if("escape"===r?(n={id:Math.random().toString(36).substr(2,9),type:BACKREF_NODE,indices:[a-1]},e.unshift(n)):s=parseInt(n.num+""+s,10),t<s)throw new g({type:"InvalidBackReference",lastIndex:a,lastStack:e,lastState:r,message:"Back reference number("+s+") greater than current groups count("+t+")."});if(function e(t,a){return!!a._parentGroup&&(a._parentGroup.num==t?t:e(t,a._parentGroup._parentStack))}(s,e))throw new g({type:"InvalidBackReference",lastIndex:a,lastStack:e,lastState:r,message:"Recursive back reference in group ("+s+") itself."});n.num=s},groupToAssertion:function(e,t,a){var r=e._parentGroup;r.type=ASSERT_NODE,r.assertionType="="==t?AssertLookahead:AssertNegativeLookahead,r.num=void 0,e.groupCounter.i--},groupEnd:function(e,t,a,r,n){var s=(e=x(e))._parentGroup;if(!s)throw new g({type:"UnexpectedChar",lastIndex:a,lastState:r,lastStack:e,message:"Unexpected end parenthesis!"});return delete e._parentGroup,delete e.groupCounter,e=s._parentStack,delete s._parentStack,e.unshift(s),s.endParenIndex=a,e},choice:function(e,t,a){var r,n,s=[];return e._parentChoice?((n=e._parentChoice).branches.unshift(s),i(s,"_parentChoice",n),i(s,"_parentGroup",n),s.groupCounter=e.groupCounter,delete e._parentChoice,delete e.groupCounter):(r=e[e.length-1],i(n={id:Math.random().toString(36).substr(2,9),type:CHOICE_NODE,indices:[r?r.indices[0]:a-1],branches:[]},"_parentStack",e),n.branches.unshift(e.slice()),e.length=0,e.unshift(n),s.groupCounter=e.groupCounter,i(s,"_parentChoice",n),i(s,"_parentGroup",n),n.branches.unshift(s)),s},endChoice:x,charsetStart:function(e,t,a){e.unshift({id:Math.random().toString(36).substr(2,9),type:CHARSET_NODE,indices:[a],classes:[],ranges:[],chars:""})},charsetExclude:function(e){e[0].exclude=!0},charsetContent:function(e,t,a){e[0].chars+=t},charsetNullChar:function(e,t,a){e[0].chars+="\0"},charsetClassEscape:function(e,t){e[0].classes.push(t)},charsetHexEscape:function(e,t,a,r,n){e=e[0],t=String.fromCharCode(parseInt(e.chars.slice(-1)+t,16)),e.chars=e.chars.slice(0,-2),e.chars+=t},charsetUnicodeEscape:function(e,t,a,r,n){e=e[0],t=String.fromCharCode(parseInt(e.chars.slice(-3)+t,16)),e.chars=e.chars.slice(0,-4),e.chars+=t},charsetRangeEnd:m,charsetNormalEscape:function(e,t,a){s.hasOwnProperty(t)&&(t=s[t]),e[0].chars+=t},charsetRangeEndNormalEscape:function(e,t){s.hasOwnProperty(t)&&(t=s[t]),m.apply(this,arguments)},charsetRangeEndUnicodeEscape:function(e,t,a){var r=e[0],n=r.chars.slice(-3)+t;r.chars=r.chars.slice(0,-3),e=r.ranges.pop(),t=String.fromCharCode(parseInt(n,16)),(e=[e[0],t]).lastIndex=a,r.ranges.push(e)},charsetRangeEndHexEscape:function(e,t,a){var r=e[0],n=r.chars.slice(-1)+t;r.chars=r.chars.slice(0,-1),e=r.ranges.pop(),t=String.fromCharCode(parseInt(n,16)),(e=[e[0],t]).lastIndex=a,r.ranges.push(e)}};function f(e,t,a,r,n){var s=e[0],t={min:t,max:a,nonGreedy:!1},a=r-1;s.chars&&1===s.chars.length&&(a=s.indices[0]),s.type===EXACT_NODE?(n={id:Math.random().toString(36).substr(2,9),type:EXACT_NODE,repeat:t,chars:s.chars||n[a],indices:[a]},s.indices[0]===a&&e.shift(),e.unshift(n)):s.repeat=t,i(t,"beginIndex",r-e[0].indices[0])}function x(e){if(e._parentChoice){var t=e._parentChoice;delete e._parentChoice,delete e._parentGroup,delete e.groupCounter;var a=t._parentStack;return delete t._parentStack,a}return e}function m(e,t,a,r,n){var s=e[0];(e=[(e=s.chars.slice(-2))[0],t]).lastIndex=a,s.ranges.push(e),s.chars=s.chars.slice(0,-2)}var y="0-9a-fA-F",C="repeatnStart,repeatn_1,repeatn_2,repeatnErrorStart,repeatnError_1,repeatnError_2",S="hexEscape1,hexEscape2",w="unicodeEscape1,unicodeEscape2,unicodeEscape3,unicodeEscape4",_="charsetUnicodeEscape1,charsetUnicodeEscape2,charsetUnicodeEscape3,charsetUnicodeEscape4,charsetHexEscape1,charsetHexEscape2",N={javascript6:{compact:!0,accepts:(_={compact:!0,accepts:"start,begin,end,repeat0,repeat1,exact,repeatn,repeat01,repeatNonGreedy,choice,"+C+",nullChar,digitBackref,"+w+","+S,trans:[["start,begin,end,exact,repeatNonGreedy,repeat0,repeat1,repeat01,groupStart,groupQualifiedStart,choice,repeatn>exact","^+*?^$.|(){[\\",E.exact],["hexEscape1,hexEscape2,unicodeEscape1,unicodeEscape2,unicodeEscape3,unicodeEscape4>exact","^+*?^$.|(){[\\0-9a-fA-F",E.exact],["nullChar>exact","^+*?^$.|(){[\\0-9",E.exact],[C+",nullChar,digitBackref,"+w+","+S+",start,begin,end,exact,repeatNonGreedy,repeat0,repeat1,repeat01,groupStart,groupQualifiedStart,choice,repeatn>exact",".",E.dot],["start,groupStart,groupQualifiedStart,end,begin,exact,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,choice,"+C+",nullChar,digitBackref,"+w+","+S+">begin","^",E.assertBegin],[C+",nullChar,digitBackref,"+w+","+S+",exact>repeatnStart","{",E.repeatnStart],["start,begin,end,groupQualifiedStart,groupStart,repeat0,repeat1,repeatn,repeat01,repeatNonGreedy,choice>repeatnErrorStart","{",E.exact],["repeatnStart>repeatn_1","0-9",E.exact],["repeatn_1>repeatn_1","0-9",E.exact],["repeatn_1>repeatn_2",",",E.repeatnComma],["repeatn_2>repeatn_2","0-9",E.exact],["repeatn_1,repeatn_2>repeatn","}",E.repeatnEnd],["repeatnStart,repeatnErrorStart>exact","}",E.exact],["repeatnStart,repeatnErrorStart>exact","^+*?^$.|(){[\\0-9}",E.exact],["repeatnErrorStart>repeatnError_1","0-9",E.exact],["repeatnError_1>repeatnError_1","0-9",E.exact],["repeatnError_1>repeatnError_2",",",E.exact],["repeatnError_2>repeatnError_2","0-9",E.exact],["repeatnError_2,repeatnError_1>repeatErrorFinal","}"],["repeatn_1,repeatnError_1>exact","^+*?^$.|(){[\\0-9,}",E.exact],["repeatn_2,repeatnError_2>exact","^+*?^$.|(){[\\0-9}",E.exact],["exact,"+C+",nullChar,digitBackref,"+w+","+S+">repeat0","*",E.repeat0ToInf],["exact,"+C+",nullChar,digitBackref,"+w+","+S+">repeat1","+",E.repeat1ToInf],["exact,"+C+",nullChar,digitBackref,"+w+","+S+">repeat01","?",E.repeat0To1],["choice>repeatErrorFinal","*+?"],["repeat0,repeat1,repeat01,repeatn>repeatNonGreedy","?",E.repeatNonGreedy],["repeat0,repeat1,repeat01,repeatn>repeatErrorFinal","+*"],["start,begin,end,groupStart,groupQualifiedStart,exact,repeatNonGreedy,repeat0,repeat1,repeat01,repeatn,choice,"+C+",nullChar,digitBackref,"+w+","+S+">escape","\\",E.escapeStart],["escape>nullChar","0",E.nullChar],["nullChar>digitFollowNullError","0-9"],["escape>exact","^dDwWsSux0-9bB1-9",E.normalEscape],["escape>exact","bB",E.assertWordBoundary],["escape>exact","dDwWsS",E.charClassEscape],["escape>unicodeEscape1","u",E.exact],["unicodeEscape1>unicodeEscape2",y,E.exact],["unicodeEscape2>unicodeEscape3",y,E.exact],["unicodeEscape3>unicodeEscape4",y,E.exact],["unicodeEscape4>exact",y,E.unicodeEscape],["escape>hexEscape1","x",E.exact],["hexEscape1>hexEscape2",y,E.exact],["hexEscape2>exact",y,E.hexEscape],["escape>digitBackref","1-9",E.backref],["digitBackref>digitBackref","0-9",E.backref],["digitBackref>exact","^+*?^$.|(){[\\0-9",E.exact],["exact,begin,end,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,start,groupStart,groupQualifiedStart,choice,"+C+",nullChar,digitBackref,"+w+","+S+">groupStart","(",E.groupStart],["groupStart>groupQualify","?"],["groupQualify>groupQualifiedStart",":",E.groupNonCapture],["groupQualify>groupQualifiedStart","=",E.groupToAssertion],["groupQualify>groupQualifiedStart","!",E.groupToAssertion],[C+",nullChar,digitBackref,"+w+","+S+",groupStart,groupQualifiedStart,begin,end,exact,repeat1,repeat0,repeat01,repeatn,repeatNonGreedy,choice>exact",")",E.groupEnd],["start,begin,end,groupStart,groupQualifiedStart,exact,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,choice,"+C+",nullChar,digitBackref,"+w+","+S+">choice","|",E.choice],["start,groupStart,groupQualifiedStart,begin,exact,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,choice,"+C+",nullChar,digitBackref,"+w+","+S+">end","$",E.assertEnd],["exact,begin,end,repeat0,repeat1,repeat01,repeatn,repeatNonGreedy,groupQualifiedStart,groupStart,start,choice,"+C+",nullChar,digitBackref,"+w+","+S+">charsetStart","[",E.charsetStart],["charsetStart>charsetExclude","^",E.charsetExclude],["charsetStart>charsetContent","^\\]^",E.charsetContent],["charsetExclude>charsetContent","^\\]",E.charsetContent],["charsetContent,charsetClass>charsetContent","^\\]-",E.charsetContent],["charsetClass>charsetContent","-",E.charsetContent],[_+",charsetStart,charsetContent,charsetNullChar,charsetClass,charsetExclude,charsetRangeEnd>charsetEscape","\\"],["charsetEscape>charsetContent","^dDwWsSux0-9",E.charsetNormalEscape],["charsetEscape>charsetNullChar","0",E.charsetNullChar],["charsetEscape>charsetOctEscape","1-9"],["charsetRangeEndEscape>charsetOctEscape","1-9"],["charsetNullChar>digitFollowNullError","0-9"],["charsetNullChar>charsetContent","^0-9\\]-",E.charsetContent],["charsetEscape>charsetClass","dDwWsS",E.charsetClassEscape],["charsetEscape>charsetUnicodeEscape1","u",E.charsetContent],["charsetUnicodeEscape1>charsetUnicodeEscape2",y,E.charsetContent],["charsetUnicodeEscape2>charsetUnicodeEscape3",y,E.charsetContent],["charsetUnicodeEscape3>charsetUnicodeEscape4",y,E.charsetContent],["charsetUnicodeEscape4>charsetContent",y,E.charsetUnicodeEscape],["charsetEscape>charsetHexEscape1","x",E.charsetContent],["charsetHexEscape1>charsetHexEscape2",y,E.charsetContent],["charsetHexEscape2>charsetContent",y,E.charsetHexEscape],[_+">charsetContent","^\\]0-9a-fA-F-",E.charsetContent],[_+",charsetNullChar,charsetContent>charsetRangeStart","-",E.charsetContent],["charsetRangeStart>charsetRangeEnd","^\\]",E.charsetRangeEnd],["charsetRangeEnd>charsetContent","^\\]",E.charsetContent],["charsetRangeStart>charsetRangeEndEscape","\\"],["charsetRangeEndEscape>charsetRangeEnd","^dDwWsSux0-9bB1-9",E.charsetRangeEndNormalEscape],["charsetRangeEndEscape>charsetRangeEndWithNullChar","0"],["charsetRangeEndEscape>charsetRangeEndUnicodeEscape1","u",E.charsetRangeEnd],["charsetRangeEndUnicodeEscape1>charsetRangeEndUnicodeEscape2",y,E.charsetContent],["charsetRangeEndUnicodeEscape2>charsetRangeEndUnicodeEscape3",y,E.charsetContent],["charsetRangeEndUnicodeEscape3>charsetRangeEndUnicodeEscape4",y,E.charsetContent],["charsetRangeEndUnicodeEscape4>charsetRangeEnd",y,E.charsetRangeEndUnicodeEscape],["charsetRangeEndEscape>charsetRangeEndHexEscape1","x",E.charsetRangeEnd],["charsetRangeEndHexEscape1>charsetRangeEndHexEscape2",y,E.charsetContent],["charsetRangeEndHexEscape2>charsetRangeEnd",y,E.charsetRangeEndHexEscape],["charsetRangeEndEscape>charsetRangeEndClass","dDwWsS"],["charsetRangeEndUnicodeEscape1,charsetRangeEndHexEscape1>charsetContent","^\\]0-9a-fA-F",E.charsetContent],["charsetRangeEndUnicodeEscape2,charsetRangeEndUnicodeEscape3,charsetRangeEndUnicodeEscape4,charsetRangeEndHexEscape2>charsetRangeStart","-",E.charsetContent],[_+",charsetRangeEndUnicodeEscape1,charsetRangeEndHexEscape1,charsetRangeEndUnicodeEscape2,charsetRangeEndUnicodeEscape3,charsetRangeEndUnicodeEscape4,charsetRangeEndHexEscape2,charsetNullChar,charsetRangeStart,charsetContent,charsetClass,charsetExclude,charsetRangeEnd>exact","]"]]}).accepts,trans:_.trans.concat([])},python:{compact:!0,accepts:_.accepts,trans:_.trans.concat([["groupQualify>groupNamedDefined","P"],["groupNamedDefined>groupNamedStart","<"],["groupNamedStart,groupNamedContent>groupNamedContent","0-9a-zA-Z_",E.groupNamedContent],["groupNamedContent>groupNamedEnd","0-9a-zA-Z_",E.groupNamedContent],["groupNamedEnd,groupNamedContent>groupQualifiedStart",">"]])}};return n}function visualize(e,t,a,i){var c,o=Kit();function h(e,t){if(t=t||"normal",n[e]&&n[e][t])return n[e][t];c.attr({"font-size":e,"font-weight":t});var a=c.getBBox();return n[e]=n[e]||{},n[e][t]={width:a.width/((c.attr("text").length-1)/2),height:a.height/2}}function C(e,t,a){e.forEach(function(e){e._translate?e._translate(t,a):(e.x+=t,e.y+=a)})}function l(a,e,r){var t,n=[],s=[],i=0,c=e,o=r,h=r;if(!a.length)return m.empty(a,e,r);a.forEach(function(e){e=e.repeat?m.repeat(e,c,r):m[e.type](e,c,r),n.push(e),c+=e.width+16,i+=e.width,o=Math.min(o,e.y),h=Math.max(h,e.y+e.height),s=s.concat(e.items)}),t=h-o,n.reduce(function(e,t){return i+=16,e=g(a,e.lineOutX,r,t.lineInX,_fromItem=e,_toItem=t),s.push(e),t});var p=n[0].lineInX,u=n[n.length-1].lineOutX;return{items:s,width:i,height:t,x:e,y:o,lineInX:p,lineOutX:u}}function p(e,t,a,r,n,s){return{type:"group",id:e.id||"",indices:[e.indices[0]+1,e.indices[1]-1],class:`g:${e.type}:${[e.indices[0]+1,e.indices[1]-1].join(";")}`,children:t,transform:`t${a},${r}`,x:a,y:r,width:n,height:s,_translate:function(e,t){this.x+=e,this.y+=t,this.transform=`t${this.x},${this.y}`}}}function S(e,t,a,r,n,s){t=o.toPrint(t);var i=h(16),c=t.length*i.width,i=i.height+12,c=12+c,n={type:"rect",class:`rect:${e.type}:${e.indices.join(";")}`,x:0,y:0,width:c,height:i,stroke:"none",fill:n||"transparent"};return{text:s={type:"text",class:`text:${e.type}:${e.indices.join(";")}`,x:c/2,y:i/2,text:t,"font-size":16,"font-family":u,fill:s||"black"},rect:n,items:[r=p(e,[n,s],a,r-i/2,c,i)],width:c,height:i,x:a,y:r.y,lineInX:a,lineOutX:a+c}}function w(e,t,a,r,n){var s=h(14),i=(c=r.split("\n")).length*s.height,c=1<c.length?Math.max.apply(Math,c.map(function(e){return e.length})):r.length;return c*=s.width,{label:{type:"text",class:`text:${e.type}:${e.indices.join(";")}`,x:t,y:a-i/2-4,text:r,"font-size":14,"font-family":u,fill:n||"#444"},x:t-c/2,y:a-i-4,width:c,height:4+i}}function g(e,t,a,r,n=null,s=null){let i="linejoint";return null!==n&&(i=`${i}::${n.items.map(e=>e.class).join("_")}`),null!==s&&(i=`${i}::${s.items.map(e=>e.class).join("_")}::`),e.hasOwnProperty("indices")&&(i=`curve:${e.indices.join(";")}`),{type:"path",class:`path:${i}`,x:t,y:a,path:["M",t,a,"H",r],"stroke-linecap":"butt","stroke-linejoin":"round",stroke:"#333","stroke-width":2,_translate:function(e,t){var a=this.path;a[1]+=e,a[2]+=t,a[4]+=e}}}function E(e,t,a,r,n){var s,i=r<t?-1:1,c=n<a?-1:1,r=Math.abs(a-n)<15?(s=["M",t,a,"C",t+Math.min(Math.abs(r-t)/2,10)*i,a,r-(r-t)/2,n,r,n],function(e,t){var a=this.path;a[1]+=e,a[2]+=t,a[4]+=e,a[5]+=t,a[6]+=e,a[7]+=t,a[8]+=e,a[9]+=t}):(s=["M",t,a,"Q",t+10*i,a,t+10*i,a+10*c,"V",Math.abs(a-n)<20?a+10*c:n-10*c,"Q",t+10*i,n,t+10*i*2,n,"H",r],function(e,t){var a=this.path;a[1]+=e,a[2]+=t,a[4]+=e,a[5]+=t,a[6]+=e,a[7]+=t,a[9]+=t,a[11]+=e,a[12]+=t,a[13]+=e,a[14]+=t,a[16]+=e});return{type:"path",class:`path:curve:${e.indices.join(";")}`,path:s,"stroke-linecap":"butt","stroke-linejoin":"round",stroke:"#333","stroke-width":2,_translate:r}}function r(e,t,a,r){return r={type:"circle",id:e.id,class:`circle:${e.type}:${e.indices.join(";")}`,fill:r,cx:10,cy:0,r:10,stroke:"none",_translate:function(e,t){this.cx+=e,this.cy+=t}},container_group=p(e,[r],t,a,20,20),{items:[container_group],width:container_group.width,height:container_group.height,x:t,y:a,lineInX:container_group.x,lineOutX:container_group.x+container_group.width}}function x(e){if(Array.isArray(e)){for(var t=e,a=0;a<t.length;a++)if(!x(t[a]))return!1;return!0}return e.type===EMPTY_NODE||(e.type===GROUP_NODE&&void 0===e.num?x(e.sub):e.type===CHOICE_NODE?x(e.branches):void 0)}var u="DejaVu Sans Mono,monospace",d="#e2e2e2",f=!1,n={},m={startPoint:function(e,t,a){return r({type:"startPoint",id:"startPoint",indices:[-1,-1]},t,a,"r(0.5,0.5)#EFE-green")},endPoint:function(e,t,a){return r({type:"endPoint",id:"endPoint",indices:[1/0,1/0]},t,a,"r(0.5,0.5)#FFF-#000")},empty:function(e,t,a){return{items:[g(e,t,a,t+10)],width:10,height:2,x:t,y:a,lineInX:t,lineOutX:t+10}},exact:function(e,t,a){return S(e,e.chars,t,a,"skyblue")},dot:function(e,t,a){return(a=S(e,"AnyCharExceptNewLine",t,a,"DarkGreen","white")).rect.r=10,a.rect.tip="AnyChar except CR LF",a},backref:function(e,t,a){return(a=S(e,"Backref #"+e.num,t,a,"navy","white")).rect.r=8,a},repeat:function(e,t,a){function r(e){return e+(e<2?" time":" times")}function n(e,t){var a=this.path;a[1]+=e,a[2]+=t,a[4]+=e,a[5]+=t,a[6]+=e,a[7]+=t,a[9]+=t,a[11]+=e,a[12]+=t,a[13]+=e,a[14]+=t,a[16]+=e,a[18]+=e,a[19]+=t,a[20]+=e,a[21]+=t,a[23]+=t,a[25]+=e,a[26]+=t,a[27]+=e,a[28]+=t}if(x(e))return m.empty(e,t,a);var s=e.repeat,i="",c=[];if(s.min===s.max&&0===s.min)return m.empty(e,t,a);var o=m[e.type](e,t,a),h=o.width,p=o.height;if(s.min===s.max&&1===s.min)return o;s.min===s.max?i+=r(s.min):(i+=s.min,isFinite(s.max)?i+=(1<s.max-s.min?" to ":" or ")+r(s.max):i+=" or more times");var u,d,l=10,g=0,E=o.y+o.height-a,f=20+o.width,h=f;return 1!==s.max?(E+=10,p+=10,u={type:"path",class:`path:curve:${e.indices.join(";")}`,path:["M",o.x+10,a,"Q",t,a,t,a+10,"V",a+E-10,"Q",t,a+E,t+10,a+E,"H",t+f-10,"Q",t+f,a+E,t+f,a+E-10,"V",a+10,"Q",t+f,a,o.x+o.width+10,a],_translate:n,stroke:"maroon","stroke-width":2},s.nonGreedy&&(u.stroke="Brown",u["stroke-dasharray"]="-"),c.push(u)):i=!1,0===s.min&&(d=a-o.y+10,l+=10,g=-12,h=f+=20,p+=10,s={type:"path",class:`path:curve:${e.indices.join(";")}`,path:["M",t,a,"Q",t+10,a,t+10,a-10,"V",a-d+10,"Q",t+10,a-d,t+20,a-d,"H",t+f-20,"Q",t+f-10,a-d,t+f-10,a-d+10,"V",a-10,"Q",t+f-10,a,t+f,a],_translate:n,stroke:s.nonGreedy?"darkgreen":"#333","stroke-width":2},u&&C([u],10,0),c.push(s)),i&&(C([(i=w(e,t+h/2,a,i)).label],0,E+i.height+4),c.push(i.label),p+=4+i.height,(E=(Math.max(i.width,h)-h)/2)&&C(c,E,0),h=Math.max(i.width,h),l+=E),C(o.items,l,0),{items:c=c.concat(o.items),width:h,height:p,x:t,y:o.y+g,lineInX:o.lineInX+l,lineOutX:o.lineOutX+l}},choice:function(s,i,c){if(x(s))return m.empty(s,i,c);var t=0,o=0,e=s.branches.map(function(e){return e=l(e,i,c),t+=e.height,o=Math.max(o,e.width),e});t+=6*(e.length-1)+8;var h=i+(o+=40)/2,p=c-t/2+4,u=i+o,d=[];return e.forEach(function(e){var t=h-e.width/2;C(e.items,t-e.x,p-e.y),d=d.concat(e.items);var a=c+p-e.y,r=E(s,i,c,i+20,a),n=E(s,u,c,i+o-20,a);d.push(r,n),i+20!==t-e.x+e.lineInX&&d.push(g(s,i+20,a,t-e.x+e.lineInX)),e.lineOutX+t-e.x!=i+o-20&&d.push(g(s,e.lineOutX+t-e.x,a,i+o-20)),e.x=t,e.y=p,p+=e.height+6}),{items:d,width:o,height:t,x:i,y:c-t/2,lineInX:i,lineOutX:u}},charset:function(t,a,r){var e,n={d:"Digit",D:"NonDigit",w:"Word",W:"NonWord",s:"WhiteSpace",S:"NonWhiteSpace"},s=t.exclude?"Pink":"Khaki",i=t.exclude?"#C00":"";if(!t.chars&&!t.ranges.length&&1===t.classes.length){if((e=S(t,n[t.classes[0]],a,r,"Green","white")).rect.r=5,t.exclude){var c=w(t,e.x+e.width/2,e.y,"None of:",i);(m=e.items).push(c.label);var o=e.width,h=Math.max(c.width,e.width);return C(m,y=(h-o)/2,0),{items:m,width:h,height:e.height+c.height,x:Math.min(c.x,e.x),y:c.y,lineInX:y+e.x,lineOutX:y+e.x+e.width}}return e}if(!t.chars&&!t.ranges.length&&!t.classes.length)return(e=S(t,"AnyChar",a,r,"green","white")).rect.r=5,e;var p=[],h=0,u=0;t.chars&&((g=S(t,t.chars,a,r,"LightSkyBlue","black")).rect.r=5,p.push(g),h=g.width),t.ranges.forEach(function(e){e=e.split("").join("-"),(e=S(t,e,a,r,"teal","white")).rect.r=5,p.push(e),h=Math.max(e.width,h)}),t.classes.forEach(function(e){(e=S(t,n[e],a,r,"Green","white")).rect.r=5,p.push(e),h=Math.max(e.width,h)});var d,l,g=p[0].height,E=[],f=[];for(p.sort(function(e,t){return t.width-e.width}),p.forEach(function(e){(2*e.width+4>h?E:f).push(e)}),p=E;f.length;){if(d=f.pop(),!(l=f.pop())){p.push(d);break}2<d.width-l.width?(p.push(d),f.push(l)):(C(l.items,d.width+4,0),p.push({items:d.items.concat(l.items),width:d.width+l.width+4,height:d.height,x:d.x,y:d.y}),u-=d.height)}h+=12;var u=4*(p.length-1)+p.length*g+12,x=(s={type:"rect",class:`rect:charsetgroup:${t.indices.join(";")}`,x:a,y:r-u/2,r:4,width:h,height:u,stroke:"none",fill:s}).y+6,m=[s];p.forEach(function(e){C(e.items,a-e.x+(h-e.width)/2,x-e.y),m=m.concat(e.items),x+=e.height+4}),c=w({type:"charsetgroup",indices:t.indices},s.x+s.width/2,s.y,(t.exclude?"None":"One")+" of:",i),m.push(c.label);var y,o=h;return h=Math.max(c.width,h),C(m,y=(h-o)/2,0),{items:m,width:h,height:u+c.height,x:Math.min(c.x,a),y:c.y,lineInX:y+a,lineOutX:y+a+s.width}},group:function(e,t,a){if(x(e))return m.empty(e,t,a);var r=l(e.sub,0,0),n=p(e,r.items,0,0,r.width,r.height);if(e.num){C([n],10,0);var s=r.width+20,i=r.height+20,c={type:"rect",id:e.id,indices:e.indices,class:`rect:${e.type}:${e.indices.join(";")}`,x:0,y:r.y-10,r:6,width:s,height:i,"stroke-dasharray":".",stroke:"silver","stroke-width":2},o=w(e,c.width/2,c.y-2,`Group ${e.name}#${e.num}`),h=Math.max(o.width,s);return{items:[i=p(e,[n,c,o.label],t+(s=(h-s)/2),a,h,i+o.height+4)],width:i.width,height:i.height,x:i.x,y:i.y+o.y,lineInX:t+s+r.lineInX+10,lineOutX:t+s+r.lineOutX+10}}return C([n],t,a),{items:[n],width:n.width,height:n.height,x:t+r.x,y:a+r.y,lineInX:t+r.lineInX,lineOutX:t+r.lineOutX}},assert:function(e,t,a){var r=(s=e.assertionType).replace("Assert","")+"!";if(n={AssertNonWordBoundary:{bg:"maroon",fg:"white"},AssertWordBoundary:{bg:"purple",fg:"white"},AssertEnd:{bg:"Indigo",fg:"white"},AssertBegin:{bg:"Indigo",fg:"white"}}[s])return S(e,r=!f||"AssertBegin"!==s&&"AssertEnd"!==s?r:"Line"+r,t,a,n.bg,n.fg);s===AssertLookahead?(i="CornflowerBlue",c="darkgreen",r="Followed by:"):s===AssertNegativeLookahead&&(i="#F63",c="Purple",r="Not followed by:");var n=m.group(e,t,a),s=n.height+16,a=n.width+16,i={type:"rect",class:`rect:${e.type}:${e.indices.join(";")}`,x:t,y:n.y-8,r:6,width:a,height:s,"stroke-dasharray":"-",stroke:i,"stroke-width":2},r=w(e,i.x+a/2,i.y,r,c),c=Math.max(a,r.width),a=(c-a)/2;return C(n.items,8+a,0),a&&C([i,r.label],a,0),{items:n.items.concat([i,r.label]),width:c,height:i.height+r.height,x:t,y:r.y,lineInX:a+n.lineInX+8,lineOutX:a+n.lineOutX+8}}};return function(e,t,a){a.clear(),a.setSize(0,0);var r=a.rect(0,0,0,0);r.attr("fill",d),r.attr("stroke",d),c=a.text(-1e3,-1e3,"XgfTlM|.q\nXgfTlM|.q").attr({"font-family":u,"font-size":16}),f=!!~t.indexOf("m");var n=h(16,"bold"),e=(n.height,t=0,(s=e.tree).unshift({type:"startPoint"}),s.push({type:"endPoint"}),l(s,t,0)),s=Math.max(e.height+30+n.height,0),t=Math.max(e.width+20,0);return a.setSize(t,s),r.attr("width",t),r.attr("height",s),C(e.items,10,20+n.height-e.y),c.remove(),i.updateProgressBar(50),a.addv2(e.items),i.updateProgressBar(100),e}(e,t,a)}
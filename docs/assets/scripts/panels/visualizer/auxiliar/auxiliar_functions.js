function Kit(){function f(r,n){return r<n?l:r===n?s:h}function t(r,n,t){var e,o,u=0,i=r.length,c=i-1;if(i<1)return-1;if(t=t||f,1===i)return t(n,r[u])===s?u:-1;if(t(n,r[u])===l||t(n,r[c])===h)return-1;do{if((o=t(n,r[e=u+(c-u+1>>1)]))===s)return e}while(o===l?c=e-1:u=e+1,u<=c);return-1}function y(r){var n=r.length;if(n<=1)return r;for(var t,e=1,o=n/3|0;e<o;)e=3*e+1;for(;0<e;){for(i=e;i<n;i++)for(c=i;e<=c&&r[c]<r[c-e];c-=e)t=r[c],r[c]=r[c-e],r[c-e]=t;e=e/3|0}for(var u=r[0],i=1,c=1;i<n;i++)r[i]!==u&&(u=r[c++]=r[i]);return r.length=c,r.length===c?r:a(r,c)}function a(r,n){n=void 0===n?r.length:n;for(var t=new r.constructor(n),e=n;e--;)t[e]=r[e];return t}function o(r){for(var n,t,e,o,u,i,c=(r=y(r=r.map(function(r){return r[1]?r:r+r}))).length,f=Object.create(null),a=Object.create(null),l=Object.create(null),s=0;s<c;s++)for(i=(o=r[s])[1],a[o[0]]=!0,l[i]=!0,n=s;n<c;n++)if((u=r[n][0])>=i){u===i&&(f[i]=!0);break}for(var h=y(r.join("").split("")),p=Object.keys(f),g=h[0],v=Object.create(null),d=Object.create(null),s=0;s<c;s++)v[r[s]]=[];if(f[g])for(s=0;s<c;s++)if((o=r[s])[0]===g)v[o].push(g);else if(o[0]>g)break;for(s=0,e=h.length-1;s<e;s++){if(u=h[s],i=h[s+1],(u=l[u]?w(u):u)<=(i=a[i]?C(i):i))for(g=u===i?u:u+i,n=0;n<c&&!((o=r[n])[0]>i);n++)o[0]<=u&&i<=o[1]&&(v[o].push(g),p.push(g));if(u=h[s],f[i=h[s+1]])for(n=0;n<c&&!((o=r[n])[0]>i);n++)o[0]<=i&&i<=o[1]&&v[o].push(i)}for(t in p=y(p),v)d[t[0]===t[1]?t[0]:t]=v[t];return{ranges:p,map:d}}function u(r){var n=String.fromCharCode(65535);r=o(r).ranges;var e=[];if(!r.length)return e;"\0"!==r[0][0]&&r.unshift(n);var t=r.length-1;return(r[t][1]||r[t][0])!==n&&r.push("\0"),r.reduce(function(r,n){var t=w(r[1]||r[0]);return t<(r=C(n[0]))&&e.push(t+r),t===r&&e.push(t),n}),e}function i(r){return r.charCodeAt(0)}function C(r){return String.fromCharCode(r.charCodeAt(0)-1)}function w(r){return String.fromCharCode(r.charCodeAt(0)+1)}var e=Array.prototype.slice,c=function(){return"[object Window]"===this.toString()}(),l=-1,s=0,h=1,p={"\n":"\\n","\t":"\\t","\f":"\\f","\r":"\\r"," ":" ","\\":"\\\\","\0":"\\0"};return{sortUnique:y,idUnique:function(r){for(var n,t,e=r.length,o=(1e10*Math.random()).toString(32)+(+new Date).toString(32),u=n=0;u<e;u++)null!=(t=r[u])&&(t.hasOwnProperty(o)||(Object.defineProperty(t,o,{value:1,enumerable:!1}),r[n++]=t));for(u=n;u--;)r[u][o]=void 0;return r.length=n,r},hashUnique:function(r){for(var n,t={},e=0,o=0,u=r.length;e<u;e++)n=r[e],t.hasOwnProperty(n)||(t[n]=1,r[o++]=n);return r.length=o,r},Set:function i(c,r){return c._Set||((c=r?c:y(c)).contains=function(r,n){return!!~t(c,r,n)},c.indexOf=function(r,n){return t(c,r,n)},c.toArray=function(){return a(c)},c.union=function(r){r=i(r);for(var n=c.length+r.length,t=new c.constructor(n),e=0,o=0,u=0;u<n;u++)c[e]===r[o]?(t[u]=c[e++],o++,n--):c[e]<r[o]?t[u]=c[e++]:t[u]=r[o++];return t.length=n,i(t.length===n?t:a(t,n),!0)},c.inspect=c.toArray,c._Set=!0),c},repeats:function(r,n){return new Array(n+1).join(r)},negate:u,coalesce:function(r){if(!r.length)return[];var e=[r[0]];return r.reduce(function(r,n){var t=e.length-1;return r[r.length-1]===C(n[0])?e[t]=e[t][0]+n[n.length-1]:(e.push(n),n)}),e.reduce(function(r,n){return 2===n.length&&n[0]===C(n[1])?(r.push(n[0]),r.push(n[1])):r.push(n),r},[])},classify:o,parseCharset:function(r){r=r.split("");var n=[],t=[],e="^"===r[0]&&1<r.length&&r.shift();return r.forEach(function(r){if("-"==n[0]&&1<n.length){if(n[1]>r)throw new Error("Charset range out of order:"+n[1]+"-"+r+"!");t.push(n[1]+r),n.splice(0,2)}else n.unshift(r)}),t=t.concat(n),e?u(t):o(t).ranges},chr:function(r){return String.fromCharCode(r)},ord:i,pred:C,succ:w,toPrint:function(r,n){var t=/[\x00-\x1F\x7F-\x9F]/,e=/[\u009F-\uFFFF]/;return r.split("").map(function(r){return!n&&p.hasOwnProperty(r)?p[r]:e.test(r)?"\\u"+("00"+i(r).toString(16).toUpperCase()).slice(-4):t.test(r)?"\\x"+("0"+i(r).toString(16).toUpperCase()).slice(-2):r}).join("")},flatten2:function(r){return[].concat.apply([],r)},log:function(){var n,r=e.call(arguments);c?Function.prototype.apply.apply(console.log,[console,r]):(n=require("util"),r.forEach(function(r){console.log(n.inspect(r,{showHidden:!1,customInspect:!0,depth:64,colors:!0}))}))},isBrowser:c,locals:function(r){for(var n,t=r.toString(),e=/^\s+function\s+([a-zA-Z]\w+)\s*\(/gm,o=[];n=e.exec(t);)o.push(n[1]);for(var u=[];r=o.pop();)u.push(r+":"+r);return"{\n"+u.join(",\n")+"\n}"}}}